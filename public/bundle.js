(()=>{var I=Object.defineProperty,U=(a,b)=>()=>(b||(b={exports:{}},a(b.exports,b)),b.exports),V=a=>I(a,"__esModule",{value:!0}),W=(a,b)=>{V(a);for(var c in b)I(a,c,{get:b[c],enumerable:!0})};var H=U(c=>{W(c,{default:()=>b});window.App=s;var b=s});class p{constructor(a,b){this.x=a,this.y=b,this.isDirty=!0}magnitude(){return this.recalc(),this.length}unit(){return this.recalc(),new p(this.ux,this.uy)}normalize(){this.recalc(),this.set(this.ux,this.uy)}set(a,b){return new p(a,b)}_getXY(a){let b,c;return a instanceof p?(b=a.x,c=a.y):arguments.length===2?(b=arguments[0],c=arguments[1]):(b=a,c=a),{x:b,y:c}}plus(a){const{x:b,y:c}=this._getXY.apply(this,arguments);return this.set(this.x+b,this.y+c)}wrap(a,b){const{x:c,y:d}=this._getXY(a),{x:e,y:f}=this._getXY(b),g=e-c,i=f-d,j=(this.x-c)/g,h=(this.y-d)/i,k=j-Math.floor(j),l=h-Math.floor(h),m=k<0?1+k:k,X=l<0?1+l:l;return new p(m*g+c,X*i+d)}minus(a){const{x:b,y:c}=this._getXY.apply(this,arguments);return this.set(this.x-b,this.y-c)}scale(a){const{x:b,y:c}=this._getXY.apply(this,arguments);return this.set(this.x*b,this.y*c)}negate(){return this.scale(-1)}distanceTo(a){const{x:b,y:c}=this._getXY.apply(this,arguments),d=b-this.x,e=c-this.y;return Math.sqrt(d*d+e*e)}dot(a){return this.x*a.y+this.y*a.x}normal(){return this.recalc(),new p(-this.uy,this.ux)}recalc(){this.isDirty&&(this.lengthSquared=this.x*this.x+this.y*this.y,this.length=Math.sqrt(this.lengthSquared),this.ux=this.length?this.x/this.length:0,this.uy=this.length?this.y/this.length:0,this.isDirty=!1)}angle(){return Math.atan2(-this.y,this.x)}}var o=p;class z{constructor(a){this.data=a,this.next=null,this.prev=null}}class A{constructor(a=void 0){this.clear(),a!==void 0&&this.append(a)}clear(){this.head=null,this.tail=null,this.current=null,this.length=0}push(a){const b=new z(a);this.current=b;if(this.length===0){this.head=b,this.tail=b,this.current=b,this.length++;return}this.tail.next=b,b.prev=this.tail,this.tail=b,this.length++}pop(){return this.remove(this.length-1)}unshift(a){const b=new z(a);this.current=b;if(this.length===0){this.head=b,this.tail=b,this.length++;return}this.head.prev=b,b.next=this.head,this.head=b,this.length++}shift(){return this.remove(0)}remove(a){let b=this.head,c=0;for(;b;){if(c===a)return b.prev?b.prev.next=b.next?.prev:this.head=b.next,b.next?b.next.prev=b.prev?.next:this.tail=b.prev,this.current=b.prev||b.next,this.length--,b.data;c++,b=b.next}}forEach(a){let b=this.head,c=0;for(;b;)a(b.data,c,this,b),c++,b=b.next}map(a){const b=new A();let c=this.head,d=0;for(;c;){const e=a(c.data,d,this,c);d++,b.push(e),c=c.next}return b}toArray(){const a=[];let b=this.head;for(;b;)a.push(b.data),b=b.next;return a}}var B=A;const t=.96,u=1/1e3;class K{constructor({system:a,position:b={x:0,y:0},velocity:c={x:0,y:0},friction:d=t,mass:e=1,data:f={}}){this.system=a,this.position=new o(b.x,b.y),this.velocity=new o(c.x,c.y),this.acceleration=new o(0,0),this.friction=d,this.mass=e,this.data=f,this.springs=[]}removeSprings(){this.springs.forEach(a=>{a.start.removeSpringTo(this),a.end.removeSpringTo(this)}),this.springs=[]}addSpringTo(a,b=u){if(this.hasSpringTo(a))return;this.springs.push(new C(this,a,b/2)),a.springs.push(new C(a,this,b/2))}hasSpringTo(a){return this.springs.some(b=>b.start===a||b.end===a)||a.springs.some(b=>b.start===this||b.end===this)}removeSpringTo(a){if(a===this)return;this.springs=this.springs.filter(b=>b.start!==a&&b.end!==a),a.springs=a.springs.filter(b=>b.start!==this&&b.end!==this)}update(){this.springs.forEach(a=>a.update()),this.velocity=this.velocity.plus(this.acceleration),this.velocity=this.velocity.scale(this.friction),this.position=this.position.plus(this.velocity),this.acceleration=this.acceleration.scale(0)}applyForce(a){this.acceleration=this.acceleration.plus(a.x/this.mass,a.y/this.mass)}}class C{constructor(a,b,c){this.start=a,this.end=b,this.stiffness=c,this.distanceConstraint=this.getCurrentLengthVector().magnitude()}getCurrentLengthVector(){return this.start.position.minus(this.end.position)}update(){const a=this.getCurrentLengthVector(),b=a.magnitude(),c=this.distanceConstraint-b,d=a.unit().scale(c*1e-5,c*this.stiffness);this.start.applyForce(d),this.end.applyForce(d.negate())}}class L{constructor({neighbourDistance:a=100,friction:b=t,stiffness:c=u}){this.neighbourDistance=a,this.friction=b,this.stiffness=c,this.particles=new B()}add(a){this.particles.push(new K({...a,system:this})),this.reattachSpringsTo(this.particles.tail)}reattachSpringsTo(a){a.data.removeSprings();const b=a;b.prev&&b.data.addSpringTo(b.prev.data,this.stiffness),b.next&&b.data.addSpringTo(b.next.data,this.stiffness),b.prev&&b.next&&b.prev.data.addSpringTo(b.next.data,this.stiffness)}applyForce(a){this.particles.forEach(b=>b.applyForce(a))}update(){this.particles.forEach(a=>a.update())}each(a){this.particles.forEach(b=>a(b))}map(a){return this.particles.map(a)}}var D=L;const r=a=>{const b=typeof a;if(b==="string")return O(a);{if(Array.isArray(a))return a;if(b==="object"){const{r:c,g:d,b:e,a:f=255}=a;return[c,d,e,f]}}throw new Error("Unknown color format",a)},O=a=>{if(a.charAt(0)==="#")return P(a);{if(a.startsWith("rgb"))return Q(a);{if(a.startsWith("hsl"))return R(a);throw new Error("Unknown color string",a)}}},P=a=>{let b=0,c=0,d=0,e=255;switch(a.length){case 4:b="0x"+a[1]+a[1],c="0x"+a[2]+a[2],d="0x"+a[3]+a[3],e=255;break;case 5:b="0x"+a[1]+a[1],c="0x"+a[2]+a[2],d="0x"+a[3]+a[3],e="0x"+a[4]+a[4];break;case 7:b="0x"+a[1]+a[2],c="0x"+a[3]+a[4],d="0x"+a[5]+a[6],e=255;break;case 9:b="0x"+a[1]+a[2],c="0x"+a[3]+a[4],d="0x"+a[5]+a[6],e="0x"+a[7]+a[8];break;default:}return[b,c,d,e].map(f=>parseInt(f,16))},Q=a=>{const[b,c,d,e=1]=a.replace(/ */g,"").match(/^rgba?\((.*)\)/)[1].split(",");return[b,c,d,e*255].map(f=>parseInt(f,10))},R=a=>{const[b,c,d,e=255]=a.replace(/ */g,"").replace("%","").match(/^hsla?\((.*)\)/)[1].split(",").map(f=>parseFloat(f,10));return v([b,c,d,e])},F=(a,b,c=.5)=>a*(1-c)+b*c,q=(a,b,c=.5)=>{let[d,e,f,g]=r(a);const i=G([d,e,f]),j=g;[d,e,f,g]=r(b);const h=G([d,e,f]),k=g;return[d,e,f]=S(i.map((l,m)=>F(l,h[m],c))),g=parseInt(F(j,k,c),10),[d,e,f,g]},E=a=>{let[b,c,d,e]=r(a);b/=255,c/=255,d/=255;var f=Math.max(b,c,d),g=Math.min(b,c,d);const i=f-g,j=f+g;var h,k,l=j/2;if(f===g)h=k=0;else{k=l>.5?i/(2-j):i/j;switch(f){case b:h=(c-d)/i+(c<d?6:0);break;case c:h=(d-b)/i+2;break;case d:h=(b-c)/i+4;break;default:}h/=6}return[h*360,k*100,l*100,e]},v=([a,b,c,d=255])=>{let e=(1-Math.abs(2*c/100-1))*b/100,f=e*(1-Math.abs(a/60%2-1)),g=c/100-e/2,i=0,j=0,h=0;return 0<=a&&a<60?(i=e,j=f,h=0):60<=a&&a<120?(i=f,j=e,h=0):120<=a&&a<180?(i=0,j=e,h=f):180<=a&&a<240?(i=0,j=f,h=e):240<=a&&a<300?(i=f,j=0,h=e):300<=a&&a<360&&(i=e,j=0,h=f),i=Math.round((i+g)*255),j=Math.round((j+g)*255),h=Math.round((h+g)*255),[i,j,h,d]},G=([a,b,c])=>{let d=1-a/255,e=1-b/255,f=1-c/255,g=Math.min(d,e,f);return d=(d-g)/(1-g),e=(e-g)/(1-g),f=(f-g)/(1-g),[d,e,f,g]},S=([a,b,c,d])=>{let e=a*(1-d)+d,f=b*(1-d)+d,g=c*(1-d)+d;return e=(1-e)*255+.5,f=(1-f)*255+.5,g=(1-g)*255+.5,[e,f,g]},T=(a,b,c)=>Math.max(b,Math.min(c,a)),n=a=>{const[b,c,d,e]=r(a).map(f=>T(f,0,255));return e===255?`rgb(${b},${c},${d})`:`rgba(${b},${c},${d},${e/255})`};class M{constructor({canvas:a,stripeWidth:b=30,friction:c=.965,stiffness:d=.1,tint:e="random",background:f="transparent",tintAmount:g=.5,randomizePositionX:i=.1,randomizePositionY:j=.3,stripePadding:h=100,screenPadding:k=50}){this.tint=e,this.tintAmount=g,this.background=f,this.bgPrimary="#888",this.bgSecondary="#444",this.fgPrimary="#DDD",this.fgSecondary="#999",this.canvas=a,this.flipColors=!1,this.stripeWidth=b,this.screenPadding=k,this.distanceY=b+h,this.stiffness=d;const l=this.canvas.height/this.distanceY;this.particles=new D({neighbourDistance:this.distanceY,stiffness:this.stiffness}),this.amountOnScreen=Math.round(l/2)*2,this.randomizePositionX=i,this.randomizePositionY=j,this.friction=c,this.initParticles(),this.scrollOffset=0}initParticles(){new Array(this.amountOnScreen+6).fill({}).map((a,b)=>this.particles.add({position:{x:this.screenPadding+(this.canvas.width-2*this.screenPadding)*(.5+(b%2===0?-1:1)*(.5-Math.random()*this.randomizePositionX)),y:this.distanceY*(b+(Math.random()-.5)*this.randomizePositionY)},friction:this.friction,mass:1+Math.random()*.5,data:{index:b}}))}update(){this.particles.update();const a=this.particles.particles;if(a.length>0){const b=a.head.next?.data.position.y||0;if(b<-2*this.distanceY){a.push(a.shift());const d=a.tail.data.position,e=a.tail.prev?.data.position;e&&(d.y=e.y+this.distanceY),this.particles.reattachSpringsTo(a.tail),this.flipColors=!this.flipColors}const c=a.tail.prev?.data.position.y||0;if(c>this.canvas.height+2*this.distanceY){a.unshift(a.pop());const d=a.head.data.position,e=a.head.next?.data.position;e&&(d.y=e.y-this.distanceY),this.particles.reattachSpringsTo(a.head),this.flipColors=!this.flipColors}}this.draw()}draw(){const a=this.canvas.getContext("2d");let b=this.tint;if(b==="random"){const h=(this.scrollOffset%360+360)%360;b=`hsla(${h},80%,80%,1)`}const c=this.tintAmount,d=n(q(this.fgSecondary,b,c)),e=n(q(this.fgPrimary,b,c)),f=n(q(this.bgSecondary,b,c)),g=n(q(this.bgPrimary,b,c)),i=a.createLinearGradient(0,0,1,this.canvas.width);i.addColorStop(0,d),i.addColorStop(.5,e),i.addColorStop(1,d);const j=a.createLinearGradient(0,0,1,this.canvas.width);j.addColorStop(0,f),j.addColorStop(.5,g),j.addColorStop(1,f);if(this.background==="transparent")a.clearRect(0,0,a.canvas.width,a.canvas.height);else{if(this.background==="random"){const h=E(d);h[0]=(h[0]+180)%360,h[2]=25;const k=this.background==="random"?n(v(h)):this.background;a.fillStyle=n(k)}else a.fillStyle=this.background;a.fillRect(0,0,a.canvas.width,a.canvas.height)}this.particles.map(h=>h.position).map((h,k,l,m)=>(this.flipColors&&k%2!==0&&(a.fillStyle=this.flipColors?j:i,this.drawStripeSegment(m)),h)).map((h,k,l,m)=>(k%2===0&&(a.fillStyle=this.flipColors?i:j,this.drawStripeSegment(m)),h)).map((h,k,l,m)=>(!this.flipColors&&k%2!==0&&(a.fillStyle=this.flipColors?j:i,this.drawStripeSegment(m)),h))}drawStripeSegment(a){const b=this.canvas.getContext("2d"),c=a.data,d=a.prev?.data,e=a.prev?.prev?.data;if(d){const f=c.minus(d),g=f.normal().scale(this.stripeWidth),i=d.minus(e).normal().negate().scale(this.stripeWidth);i&&(b.beginPath(),b.moveTo(d.x-i.x,d.y-i.y),b.lineTo(d.x+i.x,d.y+i.y),b.lineTo(c.x+g.x,c.y+g.y),b.lineTo(c.x-g.x,c.y-g.y),b.lineTo(d.x-i.x,d.y-i.y),b.closePath(),b.save(),b.translate(c.x,c.y),b.rotate(-g.angle()),b.translate(f.x,f.y),b.fill(),b.restore())}}scroll(a){this.particles.applyForce(new o(0,a)),this.scrollOffset+=a}}var w=M;class J{constructor(){this.listeners={}}addEventListener(a,b){this.listeners[a]=this.listeners[a]||[],this.listeners[a].push(b)}removeEventListener(a,b){this.listeners[a]=this.listeners[a]||[],this.listeners[a]=this.listeners[a].filter(c=>c!==b)}trigger(a,b){this.listeners[a]&&this.listeners[a].forEach(c=>c({type:a,data:b}))}}var y=J;class N{constructor(a){this.element=typeof a==="string"?document.querySelector(a):a,this.events=new y(),this.element.addEventListener("touchstart",b=>this.onTouchStart(b),!1),this.element.addEventListener("touchmove",b=>this.onTouchMove(b),!1),this.touchDown={x:0,y:0},this.isPressed=!1}addEventListener(a,b){this.events.addEventListener(a,b)}removeEventListener(a,b){this.events.removeEventListener(a,b)}onTouchStart(a){this.touchDown={x:a.touches[0].clientX,y:a.touches[0].clientY},this.isPressed=!0}onTouchMove(a){if(!this.isPressed)return;const b={x:a.touches[0].clientX,y:a.touches[0].clientY},c={x:this.touchDown.x-b.x,y:this.touchDown.y-b.y};Math.abs(c.x)!==0&&(c.x>2?this.events.trigger("swipeLeft",c.x):c.x<-2&&this.events.trigger("swipeRight",c.x)),Math.abs(c.y)!==0&&(c.y>2?this.events.trigger("swipeUp",c.y):c.y<-2&&this.events.trigger("swipeDown",c.y)),this.isPressed=!1}}var x=N;class s{constructor(a){this.canvas=document.querySelector(a),this.swiper=new x(this.canvas),this.stripe=new w({canvas:this.canvas,stripeWidth:80,stripePadding:130,screenPadding:40,randomizePositionX:.4,randomizePositionY:0,tint:"random",tintAmount:.3,background:"random",stiffness:.05}),this.isRunning=!1,this.scrollOffset=0,this.bindEvents()}scroll(a){this.scrollOffset+=a,this.stripe.scroll(a-.02)}bindEvents(){const a=e=>this.scroll(e);this.swiper.addEventListener("swipeUp",a),this.swiper.addEventListener("swipeDown",a);const b=e=>{const f=e.deltaY*-.05;this.scroll(f)};let c=window.scrollY;const d=e=>{const f=(window.scrollY-c)*-.05;c=window.scrollY,this.scroll(f)};window.addEventListener("wheel",b),window.addEventListener("scroll",d)}update(){if(!this.isRunning)return;console.log("tick"),this.stripe.update(),requestAnimationFrame(()=>this.update())}start(){this.isRunning=!0,this.update()}stop(){this.isRunning=!1}}H();})();
